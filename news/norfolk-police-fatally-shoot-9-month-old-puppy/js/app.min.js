function countryonchange(selected_val){var countryvalue=selected_val.value;document.getElementsByClassName("custom_state")[0].parentElement.style.display="United States"==countryvalue?"block":"none"}function collapsible(val){var element=document.getElementById("collapse");element.classList.contains("active")?(element.classList.add("active-close"),val.classList.remove("c-btn--active"),element.classList.remove("active")):(element.classList.remove("active-close"),val.classList.add("c-btn--active"),element.classList.add("active"))}document.addEventListener("DOMContentLoaded",(function(event){const tabsPrev=document.querySelector(".c-tabs-nav__previous"),tabsNext=document.querySelector(".c-tabs-nav__next"),tabs=document.querySelectorAll(".c-tabs-nav__link"),permutiveFields=document.querySelectorAll("[name='Permutive_ID'], [name='permutive_user_id']");if(0!==permutiveFields)for(let permField of permutiveFields)permField.value=localStorage.getItem("permutive-id");tabs.forEach(tab=>{tab.addEventListener("click",(function(e){e.preventDefault();const pos=this.dataset.position,panel=document.getElementById(`tab-panel-${pos}`);document.querySelectorAll(".c-tabs-nav__link.tab-is-active").forEach(el=>el.classList.remove("tab-is-active")),this.classList.add("tab-is-active"),document.querySelector(".c-tabs-content__panel.tab-is-active").classList.remove("is-visible"),setTimeout((function(){document.querySelector(".c-tabs-content__panel.tab-is-active").classList.remove("tab-is-active"),panel.classList.add("tab-is-active")}),300),setTimeout((function(){panel.classList.add("is-visible")}),400),document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)-1}"]`)?(tabsPrev.dataset.position=Number(pos)-1,tabsPrev.innerText=document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)-1}"]`).innerText):tabsPrev.dataset.position="is-hidden",document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)+1}"]`)?(tabsNext.dataset.position=Number(pos)+1,tabsNext.innerText=document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)+1}"]`).innerText):tabsNext.dataset.position="is-hidden"}))}),tabsPrev&&tabsPrev.addEventListener("click",(function(e){e.preventDefault();const pos=this.dataset.position,panel=document.getElementById(`tab-panel-${pos}`);document.querySelectorAll(".c-tabs-nav__link.tab-is-active").forEach(el=>el.classList.remove("tab-is-active")),document.querySelector(`.c-tabs-nav__link[data-position="${pos}"]`).classList.add("tab-is-active"),document.querySelector(".c-tabs-content__panel.tab-is-active").classList.remove("is-visible"),setTimeout((function(){document.querySelector(".c-tabs-content__panel.tab-is-active").classList.remove("tab-is-active"),panel.classList.add("tab-is-active")}),300),setTimeout((function(){panel.classList.add("is-visible")}),400),tabsNext.dataset.position=Number(pos)+1,tabsNext.innerText=document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)+1}"]`).innerText,document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)-1}"]`)?(this.dataset.position=Number(pos)-1,this.innerText=document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)-1}"]`).innerText):this.dataset.position="is-hidden"})),tabsNext&&tabsNext.addEventListener("click",(function(e){e.preventDefault();const pos=Number(this.dataset.position),panel=document.getElementById(`tab-panel-${pos}`);document.querySelectorAll(".c-tabs-nav__link.tab-is-active").forEach(el=>el.classList.remove("tab-is-active")),document.querySelector(`.c-tabs-nav__link[data-position="${pos}"]`).classList.add("tab-is-active"),document.querySelector(".c-tabs-content__panel.tab-is-active").classList.remove("is-visible"),setTimeout((function(){document.querySelector(".c-tabs-content__panel.tab-is-active").classList.remove("tab-is-active"),panel.classList.add("tab-is-active")}),300),setTimeout((function(){panel.classList.add("is-visible")}),400),document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)+1}"]`)?(tabsNext.dataset.position=Number(pos)+1,tabsNext.innerText=document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)+1}"]`).innerText):tabsNext.dataset.position="is-hidden",tabsPrev.dataset.position=Number(pos)-1,tabsPrev.innerText=document.querySelector(`.c-tabs-nav__link[data-position="${Number(pos)-1}"]`).innerText}));var customState=document.getElementsByClassName("custom_state")[0];void 0!==customState&&(customState.parentElement.style.display="none")}));var over=document.getElementById("overlay");if(over.addEventListener("click",(function(){hidePopUp2()})),document.getElementById("newsletter-pop-up"))var upForm=document.getElementById("newsletter-pop-up").querySelector(".pop-up__form").getBoundingClientRect();if("function"!=typeof showPopUp)function showPopUp(id){id.includes("-a")&&(id=id.replace("-a",""));var popup=document.getElementById(id+"-pop-up");if(popup.style=null,popup.classList.add("is-active"),id+"-pop-up"=="newsletter-pop-up"){var subBox=popup.querySelector(".pop-up__submit-box");if(1280===screen.width&&720===screen.height)subBox.style.top=upForm.bottom-60+"px";else if(screen.width>=768)subBox.style.top=upForm.bottom+"px";else{var form;popup.style.maxHeight="none",popup.querySelector(".pop-up__form").style.maxHeight="none"}}var blackout=over;if(popup.classList.remove("pop-out"),blackout.classList.remove("c-overlay--mega-menu"),blackout.classList.add("is-active"),document.body.style.overflowY="hidden",document.body.style.paddingRight="16px",popup.classList.add("pop-in"),popup.querySelector(".pop-up__submit-box")){var minusHeight=popup.querySelector(".pop-up__submit-box").offsetHeight;popup.querySelector(".pop-up__form").style.height="calc(100% - "+minusHeight+"px)"}}function hidePopUp2(){let popups=document.getElementsByClassName("pop-up"),popups2=document.getElementsByClassName("newsletter-pop-up"),bodySatic=document.getElementsByTagName("body")[0];overlay.classList.remove("is-active"),setTimeout((function(){overlay.classList.remove("is-active")})),Array.from(popups2).forEach(popup=>{popup.classList.add("pop-out"),popup.classList.remove("pop-in"),popup.classList.remove("is-active")}),bodySatic.style.overflowY="auto",document.body.style.overflowY="auto",document.body.style.paddingRight="0"}function checkStoreFrontsEmail(email){useFetchedStoreFrontsEmails(email)}function checkfirstname(firstname){let valid=!1;const fn=firstname.value.trim();return fn.value?firstname.parentElement.style.borderColor="":(firstname.parentElement.style.borderColor="#EB0000",showError(firstname,"This field is mandatory")),isRequired(fn)?firstname.value.length<2?(showError(firstname,"First name has to be more than 2 characters"),movePlaceholderField(firstname)):(showSuccess(firstname),movePlaceholderField(firstname,!0),valid=!0):(showError(firstname,"This field is mandatory"),movePlaceholderField(firstname)),valid}function checklastname(lastname){let valid=!1;const ln=lastname.value.trim();return ln.value?lastname.parentElement.style.borderColor="":(lastname.parentElement.style.borderColor="#EB0000",showError(lastname,"This field is mandatory")),isRequired(ln)?(showSuccess(lastname),movePlaceholderField(lastname,!0),valid=!0):(showError(lastname,"This field is mandatory"),movePlaceholderField(lastname)),valid}function checkcompany(company){let valid=!1;const comp=company.value.trim();return comp.value?company.parentElement.style.borderColor="":(company.parentElement.style.borderColor="#EB0000",showError(company,"This field is mandatory")),isRequired(comp)?(showSuccess(company),movePlaceholderField(company,!0),valid=!0):(showError(company,"This field is mandatory"),movePlaceholderField(company)),valid}function checkjobtitle(jobtitle){let valid=!1;const jt=jobtitle.value.trim();return jt.value?jobtitle.parentElement.style.borderColor="":(jobtitle.parentElement.style.borderColor="#EB0000",showError(jobtitle,"This field is mandatory")),isRequired(jt)?(showSuccess(jobtitle),movePlaceholderField(jobtitle,!0),valid=!0):(showError(jobtitle,"This field is mandatory"),movePlaceholderField(jobtitle)),valid}function checkcountry(country){let valid=!1;const co=country.value;if(isRequired(co)){if("0"==co)return showError(country,"Please pick a country"),movePlaceholderField(country),valid=!1,valid;showSuccess(country),movePlaceholderField(country,!0),valid=!0}else showError(country,"Please pick a country"),movePlaceholderField(country);return valid}function checkphone(phone){let valid=!1;const ph=phone.value.trim();return ph.value?phone.parentElement.style.borderColor="":(phone.parentElement.style.borderColor="#EB0000",showError(phone,"This field is mandatory")),isRequired(ph)?phone.value.length<=3?(showError(phone,"Please enter more characters"),movePlaceholderField(phone)):(showSuccess(phone),movePlaceholderField(phone,!0),valid=!0):(showError(phone,"This field is mandatory"),movePlaceholderField(phone)),valid}function checkGdpr(consent){let valid=!1;const con=consent.checked;return con?(showSuccess(consent),movePlaceholderField(consent,!0),valid=!0):(showError(consent,"This field is mandatory"),movePlaceholderField(consent)),valid}function checkmessage(enquiry){let valid=!1;const msg=enquiry.value;return isRequired(msg)?enquiry.value.length<10?(showError(enquiry,"Please enter more characters"),movePlaceholderField(enquiry)):(showSuccess(enquiry),movePlaceholderField(enquiry,!0),valid=!0):(showError(enquiry,"This field is mandatory"),movePlaceholderField(enquiry)),valid}function validate(evt){var theEvent=evt||window.event,regex;if("paste"===theEvent.type)key=event.clipboardData.getData("text/plain");else{var key=theEvent.keyCode||theEvent.which;key=String.fromCharCode(key)}/[0-9]|\./.test(key)||(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())}const isEmailValid=email=>{const re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)},isRequired=value=>""!==value,showError=(input,message)=>{if("country"===input.name)var formField=input.parentElement.parentElement;else var formField=input.parentElement;const error=formField.querySelector("small"),label=formField;error.textContent=message},showSuccess=input=>{if("country"===input.name)var formField=input.parentElement.parentElement;else if("Country"===input.name)var formField=input.parentElement.parentElement;else var formField=input.parentElement;const error=formField.querySelector("small"),label=formField;error.textContent=""};var storeFrontForm=document.querySelector("#enquiryform");if(storeFrontForm){var fields=storeFrontForm.querySelectorAll('.form-field > input[type="text"]');fields.forEach(element=>{element.addEventListener("input",(function(){if("jobfunction"!==element.name.replace("_","").toLowerCase()){var functionName="check"+element.name.replace("_","").toLowerCase();window[functionName](element)}}))})}function formValidation(form,email=!1,firstname=!1,lastname=!1,company=!1,jobtitle=!1,country=!1,phone=!1,consent=!1,enquiry=!1){useFetchedStoreFrontsEmails(email).then(value=>{if(email&&!value)return!1;if((firstname||lastname||company||jobtitle||country||phone)&&(checkfirstname(firstname),checklastname(lastname),checkcompany(company),checkjobtitle(jobtitle),checkcountry(country),!checkphone(phone)))return!1;if(consent&&!checkGdpr(consent))return!1;if(enquiry&&!checkmessage(enquiry))return!1;var form_Id=form.id,recaptcha;""!=document.getElementById("recaptch_secret_key").value?jQuery.ajax({url:"/wp-content/plugins/vms-automation/captcha.php",data:jQuery("form#"+form_Id).serialize(),type:"POST",complete:function(response){let data_captcha;"success"==JSON.parse(response.responseText).status?(jQuery.ajax({url:"/wp-content/plugins/storefronts/storefront-ajaxcall.php",data:jQuery("form#enquiryform").serialize(),type:"POST",success:function(data){console.log("form submitted to curl ",data),jQuery("#"+form_Id)[0].reset()},error:function(ex){console.log("form not submitted to curl")}}),enquiry?(form.style.display="none",document.getElementById("enquiry").classList.add("enquirySuccess"),document.getElementById("enq-success").style.display="block"):(form.style.display="none",document.getElementById("enquiry3").classList.remove("hidden"))):document.getElementById("captcha").innerHTML="Invalid Captcha"},error:function(ex){console.log("form not submitted to curl")}}):(jQuery.ajax({url:"/wp-content/plugins/storefronts/storefront-ajaxcall.php",data:jQuery("form#enquiryform").serialize(),type:"POST",success:function(data){console.log("form submitted to curl ",data),jQuery("#enquiryform")[0].reset()},error:function(ex){console.log("form not submitted to curl")}}),enquiry?(form.style.display="none",document.getElementById("enquiry").classList.add("enquirySuccess"),document.getElementById("enq-success").style.display="block"):(form.style.display="none",document.getElementById("enquiry3").classList.remove("hidden")))})}function movePlaceholderField(field,remove=!1){if(field.parentNode.getElementsByClassName("wrong").length<=0){var newSpan=document.createElement("span");newSpan.classList.add("wrong"),newSpan.innerHTML=field.placeholder,void 0===field.placeholder&&(newSpan.innerHTML="Country *",field.parentElement.parentElement.style.borderColor="#eb0000"),field.classList.add("wrong-field"),field.parentElement.style.borderColor="#eb0000";var small=field.parentElement.querySelector("small");field.parentNode.insertBefore(newSpan,small)}field.parentNode.querySelectorAll(".wrong").length>0&&remove&&(field.parentNode.querySelectorAll(".wrong")[0].style.color="#252524",field.classList.remove("wrong-field"),field.parentElement.style.borderColor="#252524",field.parentNode.querySelectorAll(".wrong")[0].innerText,field.parentElement.parentElement.style.borderColor="#252524")}const btnShow=document.querySelector(".whitepaper__show"),enquiryForm=document.querySelector(".enquiry-form-show"),emailAdress=document.querySelector("#enq-email");function prjFunction(){var prjbtn,prjtxt;document.getElementById("prjBtn").classList.toggle("prjtoggle--active"),document.getElementById("prjDIV").classList.toggle("prj-show")}async function fetchingStoreFrontsEmails(){const res=await fetch(urlToFetchStoreFrontsEmails),data=res.text();return data}async function useFetchedStoreFrontsEmails(email){let data;const excludedEmailsArr=(await fetchingStoreFrontsEmails()).split("\n");excludedEmailsArr.shift();let valid=!1;const ea=email.value.trim();let emailDomain=ea.split("@");const matches=excludedEmailsArr.filter(element=>{if(element.replace(/,\s*$/,"")==emailDomain[1])return!0});return matches.length>0?(showError(email,"Please enter a work/business email address"),movePlaceholderField(email)):isRequired(ea)?isEmailValid(ea)?(showSuccess(email),movePlaceholderField(email,!0),valid=!0):(showError(email,"Email is not valid"),movePlaceholderField(email)):(showError(email,"This field is mandatory"),movePlaceholderField(email)),valid}btnShow&&btnShow.addEventListener("click",(function(){useFetchedStoreFrontsEmails(this.form.Email).then(value=>{value&&(enquiryForm.classList.remove("hidden"),btnShow.classList.add("hidden"),emailAdress.classList.add("full-width"))})})),document.addEventListener("click",(function(evt){let selectField=document.querySelector(".enquiry__input--select.select--country");targetElement=evt.target,selectField&&(targetElement==selectField?selectField.classList.toggle("active"):selectField.classList.remove("active"))}));const urlToFetchStoreFrontsEmails="/wp-content/plugins/storefronts/free-disposable-email-providers.csv";var reg=/^([\w-\.]+@(?!gmail.com)(?!yahoo.com)(?!hotmail.com)(?!yahoo.co.in)(?!aol.com)(?!abc.com)(?!xyz.com)(?!pqr.com)(?!rediffmail.com)(?!live.com)(?!outlook.com)(?!me.com)(?!msn.com)(?!ymail.com)([\w-]+\.)+[\w-]{2,4})?$/;