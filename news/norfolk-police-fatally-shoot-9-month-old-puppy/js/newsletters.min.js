function emailValidation(email){var re;return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)}if(null!==document.querySelector(".figaro-child-theme")){const urlToFetchCorporateEmails="/wp-content/plugins/nsmg-newsletter-settings/themeAssets/figaroTheme/free-disposable-email-providers.csv";async function fetchingEmails(){const res=await fetch(urlToFetchCorporateEmails),data=res.text();return data}}async function validateNewsletters(form,email){let error,errorNewsletters,button,consent__error,captcha__error,response,firstname,lastname;if(null===form.querySelector(".pop-up__submit-box"))error=form.querySelector(".all-newsletters-form__submit").querySelector(".pop-up__error"),errorNewsletters=form.querySelector(".all-newsletters-form__submit").querySelector(".pop-up__error-newsletters"),button=form.querySelector(".all-newsletters-form__submit").querySelector(".submit"),consent__error=form.querySelector(".all-newsletters-form__submit").querySelector(".consent__error"),captcha__error=form.querySelector(".all-newsletters-form__submit").querySelector(".captcha__error"),response=grecaptcha.getResponse(),firstname=form.querySelector(".firstname-input"),lastname=form.querySelector(".lastname-input");else{error=form.querySelector(".pop-up__submit-box").querySelector(".pop-up__error"),errorNewsletters=form.querySelector(".pop-up__submit-box").querySelector(".pop-up__error-newsletters"),button=form.querySelector(".pop-up__submit-box").querySelector(".submit"),consent__error=form.querySelector(".pop-up__submit-box").querySelector(".consent__error"),captcha__error=form.querySelector(".pop-up__submit-box").querySelector(".captcha__error");var recaptchas=document.querySelectorAll("div[class=g-recaptcha]");for(i=0;i<recaptchas.length;i++)""!=grecaptcha.getResponse(i)&&(response=grecaptcha.getResponse(i));firstname=form.querySelector(".firstname-input"),lastname=form.querySelector(".lastname-input")}let isValid=!0;if(firstname&&""===firstname.value.trim()){firstname.classList.add("invalid-field");let firstnameError=form.querySelector(".firstname-error");firstnameError&&(firstnameError.innerHTML="First Name is required"),isValid=!1}else if(firstname){firstname.classList.remove("invalid-field");let firstnameError=form.querySelector(".firstname-error");firstnameError&&(firstnameError.innerHTML="")}if(lastname&&""===lastname.value.trim()){lastname.classList.add("invalid-field");let lastnameError=form.querySelector(".lastname-error");lastnameError&&(lastnameError.innerHTML="Last Name is required"),isValid=!1}else if(lastname){lastname.classList.remove("invalid-field");let lastnameError=form.querySelector(".lastname-error");lastnameError&&(lastnameError.innerHTML="")}if(!isValid)return button.classList.add("reverse-colors"),button.disabled=!0,!1;var checksTrue=[].filter.call(form.querySelectorAll('input[id^="_pardot"]'),(function(el){return el.checked}));if(null!==document.querySelector(".figaro-child-theme")){let data=await fetchingEmails();data=data.replace(/\n/g,"");const excludedEmailsArr=data.split(",");excludedEmailsArr.shift();const ea=email.value.trim();let emailDomain=ea.split("@");const matches=excludedEmailsArr.filter(element=>{if(-1!==element.indexOf(emailDomain[1]))return!0});if(matches.length>0||!emailValidation(email.value)&&checksTrue.length<=0)return error.innerHTML="Please enter a valid corporate email address",email.classList.add("invalid-field"),button.classList.add("reverse-colors"),button.disabled=!0,!1;if(matches.length<=0&&emailValidation(email.value)){if(error.innerHTML="",email.classList.remove("invalid-field"),checksTrue.length<=0){if(errorNewsletters.innerHTML="You need to select at least 1 newsletter!",document.querySelector(".pop-up__submit-box__trigger").classList.add("spacing-bottom"),null===document.querySelector(".pop-up__submit-box")){let getNewsSubBoxes=document.querySelectorAll(".newsletter-item__subscribe-box");for(let newsSubBox of getNewsSubBoxes)newsSubBox.classList.add("not-selected")}return button.classList.add("reverse-colors"),button.disabled=!0,checkErrorMsgs(),!1}if(errorNewsletters.innerHTML="",document.querySelector(".pop-up__submit-box__trigger").classList.remove("spacing-bottom"),checkErrorMsgs(),null===document.querySelector(".pop-up__submit-box")){let getNewsSubBoxes=document.querySelectorAll(".newsletter-item__subscribe-box");for(let newsSubBox of getNewsSubBoxes)newsSubBox.classList.remove("not-selected")}0!==response.length?(button.disabled=!1,button.classList.remove("reverse-colors")):(button.classList.add("reverse-colors"),button.disabled=!0),0===response.length?(button.classList.add("reverse-colors"),button.disabled=!0):(null!==captcha__error&&(captcha__error.innerHTML="",captcha__error.style.display="none"),emailValidation(email.value)&&matches.length<=0&&checksTrue.length>0&&(button.classList.remove("reverse-colors"),button.disabled=!1))}0===response.length?(button.classList.add("reverse-colors"),button.disabled=!0):(captcha__error.innerHTML="",captcha__error.style.display="none",emailValidation(email.value)&&matches.length<=0&&checksTrue.length>0?(button.classList.remove("reverse-colors"),button.disabled=!1):(checksTrue.length>0&&matches.length>0||!emailValidation(email.value))&&(error.innerHTML="Please enter a valid corporate email address",email.classList.add("invalid-field"),button.classList.add("reverse-colors"),button.disabled=!0))}else{if(!emailValidation(email.value)&&checksTrue.length<=0)return error.innerHTML="Please enter a valid email address",email.classList.add("invalid-field"),button.classList.add("reverse-colors"),button.disabled=!0,!1;if(error.innerHTML="",email.classList.remove("invalid-field"),checksTrue.length<=0){if(errorNewsletters.innerHTML="You need to select at least 1 newsletter!",document.querySelector(".pop-up__submit-box__trigger").classList.add("spacing-bottom"),null===document.querySelector(".pop-up__submit-box")){let getNewsSubBoxes=document.querySelectorAll(".newsletter-item__subscribe-box");for(let newsSubBox of getNewsSubBoxes)newsSubBox.classList.add("not-selected")}return button.classList.add("reverse-colors"),button.disabled=!0,checkErrorMsgs(),!1}if(errorNewsletters.innerHTML="",document.querySelector(".pop-up__submit-box__trigger").classList.remove("spacing-bottom"),checkErrorMsgs(),null===document.querySelector(".pop-up__submit-box")){let getNewsSubBoxes=document.querySelectorAll(".newsletter-item__subscribe-box");for(let newsSubBox of getNewsSubBoxes)newsSubBox.classList.remove("not-selected")}0!==response.length?(button.disabled=!1,button.classList.remove("reverse-colors")):(button.classList.add("reverse-colors"),button.disabled=!0),0===response.length?(button.classList.add("reverse-colors"),button.disabled=!0):(null!==captcha__error&&(captcha__error.innerHTML="",captcha__error.style.display="none"),emailValidation(email.value)&&checksTrue.length>0?(button.classList.remove("reverse-colors"),button.disabled=!1):(emailValidation(email.value)||null!==error&&(error.innerHTML="Please enter a valid email address",email.classList.add("invalid-field")),button.classList.add("reverse-colors"),button.disabled=!0)),0===response.length?(button.classList.add("reverse-colors"),button.disabled=!0):(captcha__error.innerHTML="",captcha__error.style.display="none",emailValidation(email.value)&&checksTrue.length>0?(button.classList.remove("reverse-colors"),button.disabled=!1):checksTrue.length>0&&!emailValidation(email.value)&&(error.innerHTML="Please enter a valid email address",email.classList.add("invalid-field"),button.classList.add("reverse-colors"),button.disabled=!0))}}var newsCheck=document.querySelectorAll(".newsletter-item__subscribe-box input[type='checkbox']");if(newsCheck.length>0){var form=document.querySelector(".all-newsletters-form"),email=document.getElementsByName("email")[0];function clickedCaptcha(){return new Promise((function(resolve,reject){""!==grecaptcha.getResponse()?validateNewsletters(form,email):grecaptcha.reset()}))}function expiredCaptcha(){validateNewsletters(form,email);var button=form.querySelector(".submit");button.classList.add("reverse-colors"),button.disabled=!0,jQuery(".all-newsletters-form__submit").animate({scrollTop:0},200).delay(200)}}else{var form=document.querySelector(".pop-up__form"),email=document.getElementsByName("email")[0];function clickedCaptcha(){return new Promise((function(resolve,reject){var recaptchas=document.querySelectorAll("div[class=g-recaptcha]");for(i=0;i<recaptchas.length;i++)if(""!=grecaptcha.getResponse(i))var gcaptcha=grecaptcha.getResponse(i);""!==gcaptcha?validateNewsletters(form,email):grecaptcha.reset()}))}function expiredCaptcha(){validateNewsletters(form,email);var button=form.querySelector(".submit");button.classList.add("reverse-colors"),button.disabled=!0,jQuery(".all-newsletters-form__submit").animate({scrollTop:0},200).delay(200)}}function afterSubmit(){hideNewsPopUp(),setTimeout((function(){showNewsPopUp("thank-you")}),150);const captcha=document.getElementById("captcha_error");captcha.remove()}var over=document.getElementById("overlay");if(over.addEventListener("click",(function(){hideNewsPopUp(),null!==document.querySelector(".all-newsletters-form__submit")&&(document.querySelector(".all-newsletters-form__submit").classList.remove("expanded"),document.querySelector(".all-newsletters-form__submit").classList.remove("swiped"),document.querySelector(".all-newsletters-form__submit").style="none")})),document.getElementById("newsletter-pop-up")){var upForm=document.getElementById("newsletter-pop-up").querySelector(".pop-up__form").getBoundingClientRect();document.getElementById("newsletter-pop-up").querySelector(".pop-up__inner").addEventListener("click",(function(){document.getElementById("newsletter-pop-up").classList.remove("expanded"),document.getElementById("newsletter-pop-up").querySelector(".pop-up__submit-box").classList.remove("swiped"),document.getElementById("newsletter-pop-up").querySelector(".pop-up__submit-box").style.height="98px",document.getElementById("newsletter-pop-up").querySelector(".pop-up__inner").style.height="calc(100% - 98px)"}))}function showNewsPopUp(id){id.includes("-a")&&(id=id.replace("-a",""));var popup=document.getElementById(id+"-pop-up");popup.style=null,popup.classList.add("is-active");var blackout=document.getElementById("overlay");popup.classList.remove("pop-out"),blackout.classList.remove("c-overlay--mega-menu"),blackout.classList.add("is-active"),blackout.style.zIndex="990",document.body.style.height=window.innerHeight+"px",document.body.style.overflowY="hidden",document.body.style.paddingRight="16px",popup.classList.add("pop-in")}function hideNewsPopUp(){if(0!==document.getElementsByClassName("pop-in").length){let popups=document.getElementsByClassName("pop-in");if(null===document.querySelector(".all-newsletters-form__submit")){let subBox;document.querySelector(".pop-up__submit-box").classList.remove("swiped"),document.querySelector(".pop-up .pop-up__submit-box").style.height="98px",document.getElementById("newsletter-pop-up").classList.remove("expanded"),document.getElementById("newsletter-pop-up").querySelector(".pop-up__inner").style.height="calc(100% - 98px)"}var blackout;setTimeout((function(){overlay.classList.remove("is-active")})),Array.from(popups).forEach(popup=>{popup.classList.add("pop-out"),popup.classList.remove("pop-in"),popup.classList.remove("is-active")}),document.body.style.overflowY="auto",document.body.style.height="auto",document.body.style.paddingRight="0",document.getElementById("overlay").style.zIndex="900"}}function checkErrorMsgs(){let subBox=document.querySelector(".pop-up__submit-box"),allNewslettersFormSubmit=document.querySelector(".all-newsletters-form__submit");null===document.querySelector(".pop-up__submit-box")?(document.querySelector(".pop-up__error").innerHTML||document.querySelector(".pop-up__error-newsletters").innerHTML||document.querySelector(".all-newsletters-form__submit .pop-up__input-wrapper input").value.length>=1?allNewslettersFormSubmit.classList.add("used-box"):allNewslettersFormSubmit.classList.remove("used-box"),document.querySelector(".pop-up__error-newsletters").innerHTML?allNewslettersFormSubmit.classList.add("error-visible"):allNewslettersFormSubmit.classList.remove("error-visible")):(document.querySelector(".pop-up__error").innerHTML||document.querySelector(".pop-up__error-newsletters").innerHTML||document.querySelector(".pop-up__submit-box .pop-up__input-wrapper .email-input").value.length>=1?subBox.classList.add("used-box"):subBox.classList.remove("used-box"),document.querySelector(".pop-up__error-newsletters").innerHTML?subBox.classList.add("error-visible"):subBox.classList.remove("error-visible"))}function reverseColors(form){let button;element.parentNode.querySelector(".pop-up__submit-box").querySelector(".submit").classList.remove("reverse-colors")}function checkChildCheckBox(parentCheckBox){if(parentCheckBox.checked){let parent_check_box=parentCheckBox.id,child_check_box="_pardott-".concat(parent_check_box.split("-").pop());void 0!==document.getElementById(child_check_box)&&0!==document.getElementById(child_check_box).length&&(document.getElementById(child_check_box).checked=!0)}else{let parent_check_box=parentCheckBox.id,child_check_box="_pardott-".concat(parent_check_box.split("-").pop());void 0!==document.getElementById(child_check_box)&&0!==document.getElementById(child_check_box).length&&(document.getElementById(child_check_box).checked=!1)}}null===document.querySelector(".pop-up__submit-box")?null!==document.querySelector(".all-newsletters-form")&&document.querySelector(".all-newsletters-form").querySelectorAll('input[id^="_pardot"]').length<=1&&document.querySelector(".all-newsletters-form").querySelector('input[id^="_pardot"]').setAttribute("checked","checked"):null!==document.querySelector(".pop-up__form")&&document.querySelector(".pop-up__form").querySelectorAll('input[id^="_pardot"]').length<=1&&document.querySelector(".pop-up__form").querySelector('input[id^="_pardot"]').setAttribute("checked","checked"),void 0!==document.getElementById("all-news-submit-box")&&null!=document.getElementById("all-news-submit-box")&&document.getElementById("all-news-submit-box").querySelector(".pop-up__submit-box__trigger").addEventListener("click",(function(){let filter_jobs=document.querySelector(".all-newsletters-form__submit #filter-jobs"),job_type=document.querySelector(".all-newsletters-form__submit .job-type"),job_filter_label=document.querySelector(".all-newsletters-form__submit #job-filter-label"),job_filter_default_value=document.querySelector(".all-newsletters-form__submit #job-filter-default-value"),job_filter_label_default_value,start=null;function set_filter_label(e){document.querySelectorAll(".all-newsletters-form__submit .job-filter-box ul li").forEach((function(e){e.classList.remove("active-filter")})),document.querySelector("#job-dropdown").setAttribute("value",e.target.innerHTML),e.target.classList.add("active-filter"),job_type.classList.add("selected"),job_filter_label.innerHTML=e.target.innerHTML,job_type.classList.toggle("toggled"),job_type.checked=!1,job_filter_label.classList.add("typed")}if(allNewslettersFormSubmit=document.querySelector(".all-newsletters-form__submit"),void 0!==filter_jobs&&null!=filter_jobs&&filter_jobs.addEventListener("click",set_filter_label,!1),job_filter_label&&job_filter_default_value&&(job_filter_label_default_value=job_filter_default_value.value,job_filter_label.innerHTML=job_filter_label_default_value),this.parentNode.classList.contains("expanded"))document.body.style.paddingRight="0",document.body.style.overflowY="auto",setTimeout((function(){overlay.classList.remove("is-active")})),this.parentNode.classList.remove("expanded"),allNewslettersFormSubmit.classList.remove("swiped"),allNewslettersFormSubmit.style.height="98px";else{var blackout=document.getElementById("overlay");blackout.classList.remove("c-overlay--mega-menu"),blackout.classList.add("is-active"),document.body.style.overflowY="hidden",this.parentNode.classList.add("expanded");let allNewslettersFormSubmitHeight=allNewslettersFormSubmit.scrollHeight,submitGdprHeight=document.querySelector(".pop-up__check .text-span").scrollHeight;window.innerWidth<768?allNewslettersFormSubmit.style.height="calc("+allNewslettersFormSubmitHeight+"px - "+submitGdprHeight+"px + 16px)":(allNewslettersFormSubmit.style.height=allNewslettersFormSubmitHeight+"px",allNewslettersFormSubmit.querySelector(".pop-up__input-wrapper input").focus()),setTimeout((function(){allNewslettersFormSubmit.scrollTo(0,0)}),1e3),allNewslettersFormSubmit.addEventListener("touchstart",(function(e){start=e.changedTouches[0]})),allNewslettersFormSubmit.addEventListener("touchend",(function(e){let end=e.changedTouches[0];if(allNewslettersFormSubmit.classList.contains("expanded")){let allNewslettersFormSubmitHeight=allNewslettersFormSubmit.scrollHeight,submitGdprHeight=document.querySelector(".pop-up__check .text-span").scrollHeight;end.screenY-start.screenY>0?(allNewslettersFormSubmit.classList.remove("swiped"),allNewslettersFormSubmit.style.height="calc("+allNewslettersFormSubmitHeight+"px - "+submitGdprHeight+"px + 16px)"):end.screenY-start.screenY<0&&(allNewslettersFormSubmit.classList.add("swiped"),allNewslettersFormSubmit.style.height=allNewslettersFormSubmitHeight+"px")}}))}checkErrorMsgs()})),void 0!==document.getElementById("submit-box")&&null!=document.getElementById("submit-box")&&document.getElementById("submit-box").querySelector(".pop-up__submit-box__trigger").addEventListener("click",(function(){let filter_jobs=document.getElementById("filter-jobs"),job_type=document.querySelector(".job-type"),job_filter_label=document.getElementById("job-filter-label"),start=null,subBox=document.querySelector(".pop-up__submit-box");function set_filter_label(e){document.querySelectorAll(".job-filter-box ul li").forEach((function(e){e.classList.remove("active-filter")})),document.querySelectorAll("#job-dropdown option").forEach((function(job){e.target.innerHTML===job.value&&(document.querySelector("#job-dropdown option:checked").removeAttribute("selected"),job.setAttribute("selected",""),document.querySelector("#job-dropdown").setAttribute("value",e.target.innerHTML))})),e.target.classList.add("active-filter"),job_type.classList.add("selected"),job_filter_label.innerHTML=e.target.innerHTML,job_type.classList.toggle("toggled"),job_type.checked=!1,job_filter_label.classList.add("typed")}if(void 0!==filter_jobs&&null!=filter_jobs&&filter_jobs.addEventListener("click",set_filter_label,!1),this.parentNode.parentNode.parentNode.classList.contains("expanded"))this.parentNode.parentNode.parentNode.classList.remove("expanded"),subBox.classList.remove("swiped"),document.getElementById("newsletter-pop-up").querySelector(".pop-up__inner").style.height="calc(100% - 98px)",document.querySelector(".pop-up .pop-up__submit-box").style.height="98px";else{this.parentNode.parentNode.parentNode.classList.add("expanded");let submitBox=document.querySelector(".pop-up .pop-up__submit-box").scrollHeight,submitGdprHeight=document.querySelector(".pop-up__check").scrollHeight;window.innerWidth<1024?(document.querySelector(".pop-up .pop-up__submit-box").style.height="calc("+submitBox+"px - "+submitGdprHeight+"px + 15px)",setTimeout(()=>{let getFormHeight,defaultPos,calcHeight=document.getElementById("newsletter-pop-up").offsetHeight-document.querySelector(".pop-up.expanded .pop-up__submit-box").offsetTop;document.getElementById("newsletter-pop-up").querySelector(".pop-up__inner").style.height="calc(100% - "+calcHeight+"px)"},500)):(document.querySelector(".pop-up .pop-up__submit-box").style.height=submitBox+"px",setTimeout(()=>{let getFormHeight,defaultPos,calcHeight=document.getElementById("newsletter-pop-up").offsetHeight-document.querySelector(".pop-up.expanded .pop-up__submit-box").offsetTop;document.getElementById("newsletter-pop-up").querySelector(".pop-up__inner").style.height="calc(100% - "+calcHeight+"px)"},700)),window.innerWidth>768&&subBox.querySelector(".email-input").focus(),setTimeout((function(){subBox.scrollTo(0,0),document.querySelector(".pop-up__form").scrollTo(0,0)}),1e3),subBox.addEventListener("touchstart",(function(e){start=e.changedTouches[0]})),subBox.addEventListener("touchend",(function(e){let end=e.changedTouches[0];if(subBox.parentNode.parentNode.classList.contains("expanded"))if(end.screenY-start.screenY>0){subBox.classList.remove("swiped");let submitBox=document.querySelector(".pop-up .pop-up__submit-box").scrollHeight,submitGdprHeight=document.querySelector(".pop-up__check").scrollHeight;document.querySelector(".pop-up .pop-up__submit-box").style.height="calc("+submitBox+"px - "+submitGdprHeight+"px + 15px)",setTimeout(()=>{let getFormHeight,defaultPos,calcHeight=document.getElementById("newsletter-pop-up").offsetHeight-document.querySelector(".pop-up.expanded .pop-up__submit-box").offsetTop;document.getElementById("newsletter-pop-up").querySelector(".pop-up__inner").style.height="calc(100% - "+calcHeight+"px)"},500)}else if(end.screenY-start.screenY<0){subBox.classList.add("swiped");let submitBox=document.querySelector(".pop-up .pop-up__submit-box").scrollHeight,submitGdprHeight=document.querySelector(".pop-up__check").scrollHeight;document.querySelector(".pop-up .pop-up__submit-box").style.height=submitBox+"px",setTimeout(()=>{let getFormHeight,defaultPos,calcHeight=document.getElementById("newsletter-pop-up").offsetHeight-document.querySelector(".pop-up.expanded .pop-up__submit-box").offsetTop;document.getElementById("newsletter-pop-up").querySelector(".pop-up__inner").style.height="calc(100% - "+calcHeight+"px)"},500)}}))}checkErrorMsgs()})),jQuery(".child_pop_check").click((function(e){let child_box_id=jQuery(this).attr("id"),child_check_box;if(document.getElementById(child_box_id).checked){let parent_check_box="_pardot_parent-".concat(child_box_id.split("-").pop());void 0!==document.getElementById(parent_check_box)&&0!==document.getElementById(parent_check_box).length&&(document.getElementById(parent_check_box).checked=!0)}else{let parent_check_box="_pardot_parent-".concat(child_box_id.split("-").pop());void 0!==document.getElementById(parent_check_box)&&0!==document.getElementById(parent_check_box).length&&(document.getElementById(parent_check_box).checked=!1)}}));